const galleryData = [
  {
    website: "Screening Portal",
    pages: [
      {
        title: "Login",
        themes: [
          { label: "A", link: "screening-portal/html/login-original.html", thumb: "screening-portal/images/login-original.png" },
          { label: "B", link: "screening-portal/html/login-new.html", thumb: "screening-portal/images/login-new.png" }
        ]
      },
      {
        title: "Forgot Password",
        themes: [
          { label: "A", link: "screening-portal/html/forgot-password-original.html", thumb: "screening-portal/images/forgot-password-original.png" },
          { label: "B", link: "screening-portal/html/forgot-password-new.html", thumb: "screening-portal/images/forgot-password-new.png" }
        ]
      },
      {
        title: "Forgot Password - Email Sent",
        themes: [
          { label: "A", link: "screening-portal/html/forgot-password-sent-original.html", thumb: "screening-portal/images/forgot-password-sent-original.png" },
          { label: "B", link: "screening-portal/html/forgot-password-sent-new.html", thumb: "screening-portal/images/forgot-password-sent-new.png" }
        ]
      },
      {
        title: "Change Password",
        themes: [
          { label: "A", link: "screening-portal/html/change-password-original.html", thumb: "screening-portal/images/change-password-original.png" },
          { label: "B", link: "screening-portal/html/change-password-new.html", thumb: "screening-portal/images/change-password-new.png" }
        ]
      },
      {
        title: "Change Password - Success",
        themes: [
          { label: "A", link: "screening-portal/html/change-password-success-original.html", thumb: "screening-portal/images/change-password-success-original.png" },
          { label: "B", link: "screening-portal/html/change-password-success-new.html", thumb: "screening-portal/images/change-password-success-new.png" }
        ]
      },
      {
        title: "Two Auth",
        themes: [
          { label: "A", link: "screening-portal/html/2-auth-original.html", thumb: "screening-portal/images/2-auth-original.png" },
          { label: "B", link: "screening-portal/html/2-auth-new.html", thumb: "screening-portal/images/2-auth-new.png" }
        ]
      },
      {
        title: "Case List",
        themes: [
          { label: "A", link: "screening-portal/html/case-list-original.html", thumb: "screening-portal/images/case-list-original.png" },
          { label: "B", link: "screening-portal/html/case-list-new.html", thumb: "screening-portal/images/case-list-new.png" }
        ]
      },
      {
        title: "Candidate Report",
        themes: [
          { label: "A", link: "screening-portal/html/candidate-report-original.html", thumb: "screening-portal/images/candidate-report-original.png" },
          { label: "B", link: "screening-portal/html/candidate-report-new.html", thumb: "screening-portal/images/candidate-report-new.png" }
        ]
      }
    ]
  },
  {
    website: "Candidate Portal",
    pages: [
      {
        title: "Login",
        themes: [
          { label: "A", link: "candidate-portal/html/login-original.html", thumb: "candidate-portal/images/login-original.png" },
          { label: "B", link: "candidate-portal/html/login-new.html", thumb: "candidate-portal/images/login-new.png" }
        ]
      },
      {
        title: "Forgot Password",
        themes: [
          { label: "A", link: "candidate-portal/html/forgot-password-original.html", thumb: "candidate-portal/images/forgot-password-original.png" },
          { label: "B", link: "candidate-portal/html/forgot-password-new.html", thumb: "candidate-portal/images/forgot-password-new.png" }
        ]
      },
      {
        title: "Forgot Password - Sent",
        themes: [
          { label: "A", link: "candidate-portal/html/forgot-password-sent-original.html", thumb: "candidate-portal/images/forgot-password-sent-original.png" },
          { label: "B", link: "candidate-portal/html/forgot-password-sent-new.html", thumb: "candidate-portal/images/forgot-password-sent-new.png" }
        ]
      },
      {
        title: "First Login",
        themes: [
          { label: "A", link: "candidate-portal/html/first-login-original.html", thumb: "candidate-portal/images/first-login-original.png" },
          { label: "B", link: "candidate-portal/html/first-login-new.html", thumb: "candidate-portal/images/first-login-new.png" }
        ]
      },
      {
        title: "Security Questions",
        themes: [
          { label: "A", link: "candidate-portal/html/security-question-original.html", thumb: "candidate-portal/images/security-question-original.png" },
          { label: "B", link: "candidate-portal/html/security-question-new.html", thumb: "candidate-portal/images/security-question-new.png" }
        ]
      },
      {
        title: "Review and Sign",
        themes: [
          { label: "A", link: "candidate-portal/html/review-and-sign-original.html", thumb: "candidate-portal/images/review-and-sign-original.png" },
          { label: "B", link: "candidate-portal/html/review-and-sign-new.html", thumb: "candidate-portal/images/review-and-sign-new.png" }
        ]
      },
      {
        title: "Consent Form",
        themes: [
          { label: "A", link: "candidate-portal/html/consent-form-original.html", thumb: "candidate-portal/images/consent-form-original.png" },
          { label: "B", link: "candidate-portal/html/consent-form-new.html", thumb: "candidate-portal/images/consent-form-new.png" }
        ]
      },
      {
        title: "Personal Detail",
        themes: [
          { label: "A", link: "candidate-portal/html/personal-detail-original.html", thumb: "candidate-portal/images/personal-detail-original.png" },
          { label: "B", link: "candidate-portal/html/personal-detail-new.html", thumb: "candidate-portal/images/personal-detail-new.png" }
        ]
      },
      {
        title: "Address",
        themes: [
          { label: "A", link: "candidate-portal/html/address-original.html", thumb: "candidate-portal/images/address-original.png" },
          { label: "B", link: "candidate-portal/html/address-new.html", thumb: "candidate-portal/images/address-new.png" }
        ]
      },
      {
        title: "Education",
        themes: [
          { label: "A", link: "candidate-portal/html/education-original.html", thumb: "candidate-portal/images/education-original.png" },
          { label: "B", link: "candidate-portal/html/education-new.html", thumb: "candidate-portal/images/education-new.png" }
        ]
      },
      {
        title: "Education - Continue without any education",
        themes: [
          { label: "A", link: "candidate-portal/html/no-education-original.html", thumb: "candidate-portal/images/no-education-original.png" },
          { label: "B", link: "candidate-portal/html/no-education-new.html", thumb: "candidate-portal/images/no-education-new.png" }
        ]
      },
      {
        title: "Review",
        themes: [
          { label: "A", link: "candidate-portal/html/review-original.html", thumb: "candidate-portal/images/review-original.png" },
          { label: "B", link: "candidate-portal/html/review-new.html", thumb: "candidate-portal/images/review-new.png" }
        ]
      },
      {
        title: "First Submission Prompt",
        themes: [
          { label: "A", link: "candidate-portal/html/first-submission-original.html", thumb: "candidate-portal/images/first-submission-original.png" },
          { label: "B", link: "candidate-portal/html/first-submission-new.html", thumb: "candidate-portal/images/first-submission-new.png" }
        ]
      },
      {
        title: "Completed",
        themes: [
          { label: "A", link: "candidate-portal/html/completed-original.html", thumb: "candidate-portal/images/completed-original.png" },
          { label: "B", link: "candidate-portal/html/completed-new.html", thumb: "candidate-portal/images/completed-new.png" }
        ]
      }
    ]
  },
  {
    website: "Missinginfo Portal",
    pages: [
      {
        title: "Main",
        themes: [
          { label: "A", link: "missinginfo-portal/html/main-original.html", thumb: "missinginfo-portal/images/main-original.png" },
          { label: "B", link: "missinginfo-portal/html/main-new.html", thumb: "missinginfo-portal/images/main-new.png" }
        ]
      },
      {
        title: "Add Item",
        themes: [
          { label: "A", link: "missinginfo-portal/html/add-item-original.html", thumb: "missinginfo-portal/images/add-item-original.png" },
          { label: "B", link: "missinginfo-portal/html/add-item-new.html", thumb: "missinginfo-portal/images/add-item-new.png" }
        ]
      },
      {
        title: "Unsubmitted Requests",
        themes: [
          { label: "A", link: "missinginfo-portal/html/unsubmitted-requests-original.html", thumb: "missinginfo-portal/images/unsubmitted-requests-original.png" },
          { label: "B", link: "missinginfo-portal/html/unsubmitted-requests-new.html", thumb: "missinginfo-portal/images/unsubmitted-requests-new.png" }
        ]
      },
      {
        title: "Send Request Prompt",
        themes: [
          { label: "A", link: "missinginfo-portal/html/send-request-prompt-original.html", thumb: "missinginfo-portal/images/send-request-prompt-original.png" },
          { label: "B", link: "missinginfo-portal/html/send-request-prompt-new.html", thumb: "missinginfo-portal/images/send-request-prompt-new.png" }
        ]
      },
      {
        title: "Request Sent",
        themes: [
          { label: "A", link: "missinginfo-portal/html/request-sent-original.html", thumb: "missinginfo-portal/images/request-sent-original.png" },
          { label: "B", link: "missinginfo-portal/html/request-sent-new.html", thumb: "missinginfo-portal/images/request-sent-new.png" }
        ]
      }
    ]
  },
  {
    website: "Verification Portal",
    pages: [
      {
        title: "Referee Verification - Reference Request",
        themes: [
          { label: "A", link: "verification-portal/html/reference-request-original.html", thumb: "verification-portal/images/reference-request-original.png" },
          { label: "B", link: "verification-portal/html/reference-request-new.html", thumb: "verification-portal/images/reference-request-new.png" }
        ]
      },
      {
        title: "Referee Verification - Consent Statement",
        themes: [
          { label: "A", link: "verification-portal/html/consent-statement-original.html", thumb: "verification-portal/images/consent-statement-original.png" },
          { label: "B", link: "verification-portal/html/consent-statement-new.html", thumb: "verification-portal/images/consent-statement-new.png" }
        ]
      },
      {
        title: "Referee Verification - Review",
        themes: [
          { label: "A", link: "verification-portal/html/review-original.html", thumb: "verification-portal/images/review-original.png" },
          { label: "B", link: "verification-portal/html/review-new.html", thumb: "verification-portal/images/review-new.png" }
        ]
      },
      {
        title: "Referee Verification - Add Information",
        themes: [
          { label: "A", link: "verification-portal/html/add-information-original.html", thumb: "verification-portal/images/add-information-original.png" },
          { label: "B", link: "verification-portal/html/add-information-new.html", thumb: "verification-portal/images/add-information-new.png" }
        ]
      },
      {
        title: "Referee Verification - Information Sent",
        themes: [
          { label: "A", link: "verification-portal/html/information-sent-original.html", thumb: "verification-portal/images/information-sent-original.png" },
          { label: "B", link: "verification-portal/html/information-sent-new.html", thumb: "verification-portal/images/information-sent-new.png" }
        ]
      },
      {
        title: "Screening - Comparison",
        themes: [
          { label: "A", link: "verification-portal/html/comparison-original.html", thumb: "verification-portal/images/comparison-original.png" },
          { label: "B", link: "verification-portal/html/comparison-new.html", thumb: "verification-portal/images/comparison-new.png" }
        ]
      },
      {
        title: "Screening - Referee Answers",
        themes: [
          { label: "A", link: "verification-portal/html/referee-answers-original.html", thumb: "verification-portal/images/referee-answers-original.png" },
          { label: "B", link: "verification-portal/html/referee-answers-new.html", thumb: "verification-portal/images/referee-answers-new.png" }
        ]
      },
      {
        title: "Screening - Completed",
        themes: [
          { label: "A", link: "verification-portal/html/completed-original.html", thumb: "verification-portal/images/completed-original.png" },
          { label: "B", link: "verification-portal/html/completed-new.html", thumb: "verification-portal/images/completed-new.png" }
        ]
      }
    ]
  }
];

let currentPortal = "Candidate Portal"; // Default active portal

function renderGallery() {
  const container = document.getElementById('gallery-container');
  container.innerHTML = '';
  const portal = galleryData.find(p => p.website === currentPortal);
  if (!portal || !portal.pages.length) {
    container.innerHTML = `<div style="color:#888; margin:32px 0;">No pages available for this portal.</div>`;
    return;
  }

  // Optional: Show portal title above gallery
  const portalTitle = document.createElement('div');
  portalTitle.className = 'portal-title';
  portalTitle.textContent = portal.website;
  container.appendChild(portalTitle);

  portal.pages.forEach(page => {
    // Page row
    const pageRow = document.createElement('div');
    pageRow.className = 'page-row';

    // Page title
    const pageTitle = document.createElement('div');
    pageTitle.className = 'page-title';
    pageTitle.textContent = page.title;
    pageRow.appendChild(pageTitle);

    // Theme cards
    const themeCards = document.createElement('div');
    themeCards.className = 'theme-cards';

    page.themes.forEach(theme => {
      const a = document.createElement('a');
      a.className = 'theme-card';
      a.href = theme.link;
      a.target = '_blank';

      const label = document.createElement('span');
      label.className = 'theme-label';
      label.textContent = theme.label;

      const imageBox = document.createElement('div');
      imageBox.className = 'image-box';

      const img = document.createElement('img');
      img.className = 'theme-thumb';
      img.src = theme.thumb;
      img.alt = `${page.title} ${theme.label}`;

      imageBox.appendChild(img);

      a.appendChild(label);
      a.appendChild(imageBox);
      themeCards.appendChild(a);
    });

    pageRow.appendChild(themeCards);
    container.appendChild(pageRow);
  });
}

function setActivePortal(website) {
  currentPortal = website;
  // Update sidebar active class
  document.querySelectorAll('.sidebar-link').forEach(link => {
    if (link.getAttribute('data-portal') === website) {
      link.classList.add('active');
    } else {
      link.classList.remove('active');
    }
  });
  renderGallery();
}

document.addEventListener('DOMContentLoaded', function() {
  // Sidebar click handlers
  document.querySelectorAll('.sidebar-link').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const portal = this.getAttribute('data-portal');
      setActivePortal(portal);
      // For mobile: close sidebar after click
      const sidebar = document.getElementById('sidebar');
      const sidebarBackdrop = document.getElementById('sidebar-backdrop');
      sidebar.classList.remove('open');
      sidebarBackdrop.style.display = 'none';
    });
  });
  // Initial render
  setActivePortal(currentPortal);
});